<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">

<body>
  <div class="container my-5">
    <div class="main-content bg-white rounded p-4 shadow-sm">
      <h1 class="mb-4">Recherche de Cours</h1>

      <div class="course-controls d-flex gap-3 mb-3">
        <input type="text" id="search-bar" class="form-control w-50" placeholder="Rechercher un cours..." [(ngModel)]="searchText">

        <select id="sort-courses" class="form-select w-auto" [(ngModel)]="sortField">
          <option value="name">Trier par nom</option>
          <option value="code">Trier par code</option>
        </select>
      </div>

      <div class="courses" id="course-list">
        <div class="table-responsive">
        <table *ngIf="UEs_details && UEs_details.length > 0" class="table table-striped table-hover">
          <thead class="table-light">
          <tr>
            <th>Code</th>
            <th>Name</th>
            <th>Description</th>
            <th>Credits</th>
            <th>Teachers</th>
          </tr>
          </thead>
          <tbody id="table-row">
          <tr *ngFor="let ue of filteredUEs">
            <td>{{ ue.code }}</td>
            <td><a [routerLink]="['/cours', ue._id]" class="text-decoration-none">{{ ue.name }}</a></td>
            <td>{{ ue.description }}</td>
            <td>{{ ue.credits }}</td>
            <td>{{ getTeachersByCourse(ue._id) || 'No teachers assigned' }}</td>
          </tr>
          </tbody>
        </table>
        <p *ngIf="!UEs_details || UEs_details.length === 0" class="text-muted">No courses available.</p>
        </div>
      </div>
    </div>
  </div>
</body>

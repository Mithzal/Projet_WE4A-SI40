<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">

<body>
  <div class="d-flex flex-row" [class.sidebar-collapsed]="sidebarHidden">

    <!-- Bouton hamburger -->
    <button  class="btn toggle-btn"
             (click)="toggleSidebar()">
      ☰
    </button>

    <!-- Barre latérale -->
    <app-course-sidebar [hidden]="sidebarHidden"></app-course-sidebar>

    <!-- Contenu principal -->
    <main class="main-content flex-grow-1 container-fluid">
      <div class="row">
        <!-- Partie gauche : contenu du cours -->
        <div class="col-md-8">
          <h1>{{ course.name }}</h1>

          <div *ngIf="isTeacherOrAdmin()" class="mb-3">
            <a [routerLink]="['/ajouter-contenu', courseId]" class="btn btn-primary">Ajouter un contenu</a>
          </div>

          <app-course-navbar [courseId]="courseId!" [userRole]="userRole" (showForumsEvent)="onShowForums($event)" (showCourseEvent)="onShowCourse($event)"></app-course-navbar>

          <!-- Affichage conditionnel du composant Forums -->
          <app-forums *ngIf="showForums" [courseId]="courseId!"></app-forums>
          <app-course-details [course]="course" *ngIf="showCourse"></app-course-details>

        </div>

        <!-- Partie droite : fil d'actualité -->
        <div class="col-md-4">
          <app-newsfeed [newsItems]="courseNewsItems"></app-newsfeed>
        </div>
      </div>
    </main>
  </div>
</body>

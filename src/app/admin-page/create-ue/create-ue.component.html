<div class="form-popup">
  <h3>Créer une UE</h3>
  <form [formGroup]="ueForm" (ngSubmit)="onSubmit()" class="form-popup-stack">
    <label for="nom">Nom de l'UE</label>
    <input id="nom" type="text" formControlName="name" /><br>
    <label for="code">Code UE</label>
    <input id="code" type="text" formControlName="code" /><br>
    <label for="description">Description</label>
    <textarea id="description" formControlName="description"></textarea><br>
    <label for="credits">Crédits ECTS</label>
    <input id="credits" type="number" formControlName="credits" /><br>
    <label for="instructorId">Teacher :</label>
    <select id="instructorId" formControlName="instructorId">
      <option value="" disabled>Choisir un enseignant</option>
      <option *ngFor="let teacher of teachers" [value]="teacher._id">{{ teacher.name }}</option>
    </select><br>

    <!-- Nouveau champ pour l'upload d'image -->
    <div class="image-upload-section">
      <label for="ueImage">Image du cours :</label>
      <input
        type="file"
        id="ueImage"
        (change)="onFileSelected($event)"
        accept="image/*"
      />

      <!-- Prévisualisation de l'image -->
      <div *ngIf="imagePreview" class="image-preview-container">
        <p>Aperçu de l'image :</p>
        <img [src]="imagePreview" alt="Aperçu de l'image du cours" class="image-preview">
      </div>
    </div>

    <div class="button-group">
      <button type="submit" class="sub-button">Créer</button>
      <button type="button" class="close-form" (click)="closeForm()">Annuler</button>
    </div>
  </form>
</div>
